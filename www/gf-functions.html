<html>
    <head>
		<title>WordNet Functions</title>
		<link rel="stylesheet" href="https://unpkg.com/codemirror@5.25.0/lib/codemirror.css">
		<link rel="stylesheet" href="https://unpkg.com/codemirror@5.25.0/addon/dialog/dialog.css">
		<link rel="stylesheet" type="text/css" href="gf-wordnet.css">
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">

		<script src="/js/support.js"></script>
		<script src="https://unpkg.com/vis-network@9.0.4/standalone/umd/vis-network.min.js"></script>
        <script src="https://unpkg.com/codemirror@5.25.0/lib/codemirror.js" type="text/javascript"></script>
        <script src="https://unpkg.com/codemirror@5.25.0/addon/edit/matchbrackets.js" type="text/javascript"></script>
        <script src="https://unpkg.com/codemirror@5.25.0/addon/search/search.js" type="text/javascript"></script>
        <script src="https://unpkg.com/codemirror@5.25.0/addon/search/searchcursor.js" type="text/javascript"></script>
        <script src="https://unpkg.com/codemirror@5.25.0/addon/search/jump-to-line.js" type="text/javascript"></script>
        <script src="https://unpkg.com/codemirror@5.25.0/addon/dialog/dialog.js" type="text/javascript"></script>
        <script src="https://unpkg.com/codemirror@5.25.0/mode/haskell/haskell.js" type="text/javascript"></script>
		<script src="js/gf-wordnet.js"></script>
		<script src="js/wordcloud2.js"></script>
		<script src="js/multiselect.js"></script>
		<script src="js/cookies.js"></script>
		<script src="js/translit.js" charset="UTF-8"></script>
		<script src="js/gf-functions.js"></script>

        <style>
            #editor {
                border: 1px solid silver;
            }

            #options {
                padding: 24px 5vw 24px 32px;
                background-color: #ddd;
            }

            #options:empty {
                display: none;
            }

            .option-container {
                display: flex;
                flex-flow: column;
                gap: 8px;
            }
        </style>
    </head>
    <body>

        <table><tr>
            
        <td><table id="from" class="multiselect" style="float: left">
            <thead>
                <tr onclick="showCheckboxes(this.parentNode.parentNode)"><th>English</th><th><img src="triangle.png"></th></tr>
            </thead>
            <tbody>
                <tr><td colspan=2><input type="text" placeholder="Add a language" onkeyup="filterLanguages(this)"/></td><td></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Afroasiatic">Afar</td><td><input type="checkbox" name="ParseAar"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Caucasian">Abkhazian</td><td><input type="checkbox" name="ParseAbk"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Circassian">Adyghe</td><td><input type="checkbox" name="ParseAdy"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">Afrikaans</td><td><input type="checkbox" name="ParseAfr"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Albanian</td><td><input type="checkbox" name="ParseSqi"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Southern Altai</td><td><input type="checkbox" name="ParseAlt"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Semitic|Afroasiatic">Amharic</td><td><input type="checkbox" name="ParseAmh"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Old English">Anglo-Saxon</td><td><input type="checkbox" name="ParseAng"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Semitic">Arabic</td><td><input type="checkbox" name="ParseAra"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Semitic">Arabic (Moroccan)</td><td><input type="checkbox" name="ParseAry"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Semitic">Aramaic</td><td><input type="checkbox" name="ParseArc"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Aragonese</td><td><input type="checkbox" name="ParseArg"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Armenian</td><td><input type="checkbox" name="ParseHye"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Indo-Aryan">Assamese</td><td><input type="checkbox" name="ParseAsm"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Asturian</td><td><input type="checkbox" name="ParseAst"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Bashkir</td><td><input type="checkbox" name="ParseBak"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austronesian">Balinese</td><td><input type="checkbox" name="ParseBan"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">Bavarian</td><td><input type="checkbox" name="ParseBar"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Bicolano|Bikol|Philippine">Central Bicolano</td><td><input type="checkbox" name="ParseBcl"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Belarusian</td><td><input type="checkbox" name="ParseBel"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Indo-Aryan">Bengali</td><td><input type="checkbox" name="ParseBen"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Tibetan</td><td><input type="checkbox" name="ParseBod"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Bosnian</td><td><input type="checkbox" name="ParseBos"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Celtic">Breton</td><td><input type="checkbox" name="ParseBre"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Bulgarian</td><td><input type="checkbox" name="ParseBul"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Catalan</td><td><input type="checkbox" name="ParseCat"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austronesian">Cebuano</td><td><input type="checkbox" name="ParseCeb"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Caucasian">Chechen</td><td><input type="checkbox" name="ParseChe"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Chinese</td><td><input type="checkbox" name="ParseChi"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="American">Cherokee</td><td><input type="checkbox" name="ParseChr"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic|Church Slavonic">Old Church Slavonic</td><td><input type="checkbox" name="ParseChu"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Chuvash</td><td><input type="checkbox" name="ParseChv"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Celtic">Cornish</td><td><input type="checkbox" name="ParseCor"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Corsican</td><td><input type="checkbox" name="ParseCos"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Tatar|Turkic">Crimean Tatar</td><td><input type="checkbox" name="ParseCrh"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Kashubian</td><td><input type="checkbox" name="ParseCsb"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Celtic">Welsh</td><td><input type="checkbox" name="ParseCym"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Czech</td><td><input type="checkbox" name="ParseCze"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Scandinavian|Germanic">Danish</td><td><input type="checkbox" name="ParseDan"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Maldivian">Divehi</td><td><input type="checkbox" name="ParseDiv"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic|Sorbian">Lower Sorbian</td><td><input type="checkbox" name="ParseDsb"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">Dutch</td><td><input type="checkbox" name="ParseDut"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">English</td><td><input type="checkbox" name="ParseEng"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Constructed">Esperanto</td><td><input type="checkbox" name="ParseEpo"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Uralic">Estonian</td><td><input type="checkbox" name="ParseEst"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Basque</td><td><input type="checkbox" name="ParseEus"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Scandinavian|Germanic">Faroese</td><td><input type="checkbox" name="ParseFao"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Uralic">Finnish</td><td><input type="checkbox" name="ParseFin"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">French</td><td><input type="checkbox" name="ParseFre"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Franco-Provençal</td><td><input type="checkbox" name="ParseFrp"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">Frisian</td><td><input type="checkbox" name="ParseFry"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Friulian</td><td><input type="checkbox" name="ParseFur"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">German</td><td><input type="checkbox" name="ParseGer"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Celtic">Gaelic</td><td><input type="checkbox" name="ParseGla"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Celtic">Irish</td><td><input type="checkbox" name="ParseGle"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Galician</td><td><input type="checkbox" name="ParseGlg"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Celtic">Manx</td><td><input type="checkbox" name="ParseGlv"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">Gothic</td><td><input type="checkbox" name="ParseGot"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Greek">Ancient Greek</td><td><input type="checkbox" name="ParseGrc"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Greek</td><td><input type="checkbox" name="ParseGre"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">Alemannic</td><td><input type="checkbox" name="ParseGsw"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Indo-Aryan">Gujarati</td><td><input type="checkbox" name="ParseGuj"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Haitian Creole</td><td><input type="checkbox" name="ParseHat"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Hausa</td><td><input type="checkbox" name="ParseHau"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austronesian">Hawaiian</td><td><input type="checkbox" name="ParseHaw"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Semitic">Hebrew</td><td><input type="checkbox" name="ParseHeb"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Indo-Aryan|Hundustani">Hindi</td><td><input type="checkbox" name="ParseHin"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Croatian</td><td><input type="checkbox" name="ParseHrv"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Upper Sorbian</td><td><input type="checkbox" name="ParseHsb"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Uralic">Hungarian</td><td><input type="checkbox" name="ParseHun"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Scandinavian|Germanic">Icelandic</td><td><input type="checkbox" name="ParseIce"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Constructed">Ido</td><td><input type="checkbox" name="ParseIdo"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austronesian">Iloko</td><td><input type="checkbox" name="ParseIlo"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Constructed">Interlingua</td><td><input type="checkbox" name="ParseIna"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Malay">Indonesian</td><td><input type="checkbox" name="ParseInd"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Italian</td><td><input type="checkbox" name="ParseIta"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austronesian">Javanese</td><td><input type="checkbox" name="ParseJav"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Constructed">Lojban</td><td><input type="checkbox" name="ParseJbo"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Japanese</td><td><input type="checkbox" name="ParseJpn"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Inuit">Kalaallisut</td><td><input type="checkbox" name="ParseKal"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Dravidian">Kannada</td><td><input type="checkbox" name="ParseKan"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Kartvelian">Georgian</td><td><input type="checkbox" name="ParseKat"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Kazakh</td><td><input type="checkbox" name="ParseKaz"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Caucasian">Kabardian</td><td><input type="checkbox" name="ParseKbd"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austroasiatic">Khmer</td><td><input type="checkbox" name="ParseKhm"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Bantu">Kikuyu</td><td><input type="checkbox" name="ParseKik"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Kyrgyz</td><td><input type="checkbox" name="ParseKir"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Korean</td><td><input type="checkbox" name="ParseKor"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Uralic">Komi-Zyrian</td><td><input type="checkbox" name="ParseKpv"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Iranian">Kurdish</td><td><input type="checkbox" name="ParseKur"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Ladino</td><td><input type="checkbox" name="ParseLad"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Lao</td><td><input type="checkbox" name="ParseLao"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Latin</td><td><input type="checkbox" name="ParseLat"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Baltic">Latvian</td><td><input type="checkbox" name="ParseLav"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Ligurian</td><td><input type="checkbox" name="ParseLij"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">Limburgish</td><td><input type="checkbox" name="ParseLim"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Baltic">Lithuanian</td><td><input type="checkbox" name="ParseLit"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Ladin</td><td><input type="checkbox" name="ParseLld"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Lombard</td><td><input type="checkbox" name="ParseLmo"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">Luxembourgish</td><td><input type="checkbox" name="ParseLtz"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Kartvelian">Laz</td><td><input type="checkbox" name="ParseLzz"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austronesian">Marshall</td><td><input type="checkbox" name="ParseMah"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Dravidian">Malayalam</td><td><input type="checkbox" name="ParseMal"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Indo-Aryan">Marathi</td><td><input type="checkbox" name="ParseMar"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Uralic">Moksha</td><td><input type="checkbox" name="ParseMdf"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Mari|Uralic">Eastern Mari</td><td><input type="checkbox" name="ParseMhr"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Macedonian</td><td><input type="checkbox" name="ParseMkd"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austronesian">Malagasy</td><td><input type="checkbox" name="ParseMlg"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Semitic">Maltese</td><td><input type="checkbox" name="ParseMlt"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austroasiatic">Mon</td><td><input type="checkbox" name="ParseMnw"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Mongolic">Mongolian</td><td><input type="checkbox" name="ParseMon"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Burmese</td><td><input type="checkbox" name="ParseMya"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Neapolitan</td><td><input type="checkbox" name="ParseNap"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="American">Navajo</td><td><input type="checkbox" name="ParseNav"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">Low German</td><td><input type="checkbox" name="ParseNds"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Indo-Aryan">Nepali</td><td><input type="checkbox" name="ParseNep"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Scandinavian|Germanic">Norwegian Nynorsk</td><td><input type="checkbox" name="ParseNno"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Scandinavian|Germanic">Norwegian Bokmål</td><td><input type="checkbox" name="ParseNor"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Occitan</td><td><input type="checkbox" name="ParseOci"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Indo-Aryan">Oriya</td><td><input type="checkbox" name="ParseOri"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Ossetian</td><td><input type="checkbox" name="ParseOss"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austronesian">Pampanga</td><td><input type="checkbox" name="ParsePam"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Farsi|Iranian">Persian</td><td><input type="checkbox" name="ParsePes"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Chadic">Pali</td><td><input type="checkbox" name="ParsePli"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Piedmontese</td><td><input type="checkbox" name="ParsePms"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Panjabi|Indo-Aryan">Western Panjabi</td><td><input type="checkbox" name="ParsePnb"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Polish</td><td><input type="checkbox" name="ParsePol"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Portuguese</td><td><input type="checkbox" name="ParsePor"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Iranian">Pushto</td><td><input type="checkbox" name="ParsePus"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Quechua</td><td><input type="checkbox" name="ParseQue"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Raeto-Romance</td><td><input type="checkbox" name="ParseRoh"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Romanian</td><td><input type="checkbox" name="ParseRon"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Aromanian</td><td><input type="checkbox" name="ParseRup"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Russian</td><td><input type="checkbox" name="ParseRus"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Sakha</td><td><input type="checkbox" name="ParseSah"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Indo-Aryan">Sanskrit</td><td><input type="checkbox" name="ParseSan"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Sicilian</td><td><input type="checkbox" name="ParseScn"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">Scots</td><td><input type="checkbox" name="ParseSco"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Shan</td><td><input type="checkbox" name="ParseShn"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Indo-Aryan">Sinhalese</td><td><input type="checkbox" name="ParseSin"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Slovak</td><td><input type="checkbox" name="ParseSlo"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Slovenian</td><td><input type="checkbox" name="ParseSlv"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Sami|Uralic">Southern Sami</td><td><input type="checkbox" name="ParseSma"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Sami|Uralic">Northern Sami</td><td><input type="checkbox" name="ParseSme"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Sami|Uralic">Inari Sami</td><td><input type="checkbox" name="ParseSmn"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Sami|Uralic">Skolt Sami</td><td><input type="checkbox" name="ParseSms"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Indo-Aryan">Sindhi</td><td><input type="checkbox" name="ParseSnd"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Somali</td><td><input type="checkbox" name="ParseSom"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Spanish</td><td><input type="checkbox" name="ParseSpa"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Sardinian</td><td><input type="checkbox" name="ParseSrd"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="English Creole">Sranan</td><td><input type="checkbox" name="ParseSrn"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Serbian</td><td><input type="checkbox" name="ParseSrp"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic|Frisian">Saterland Frisian</td><td><input type="checkbox" name="ParseStq"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austronesian">Sundanese</td><td><input type="checkbox" name="ParseSun"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Swahili</td><td><input type="checkbox" name="ParseSwa"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Scandinavian|Germanic">Swedish</td><td><input type="checkbox" name="ParseSwe"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Silesian</td><td><input type="checkbox" name="ParseSzl"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Dravidian">Tamil</td><td><input type="checkbox" name="ParseTam"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Tatar</td><td><input type="checkbox" name="ParseTat"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Dravidian">Telugu</td><td><input type="checkbox" name="ParseTel"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Tajik</td><td><input type="checkbox" name="ParseTgk"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austronesian">Tagalog</td><td><input type="checkbox" name="ParseTgl"/></td></tr>
                <tr><td onclick="changeItem(event,this)">Thai</td><td><input type="checkbox" name="ParseTha"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Semitic">Tigrinya</td><td><input type="checkbox" name="ParseTir"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="English Creole">Tok Pisin</td><td><input type="checkbox" name="ParseTpi"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Turkmen</td><td><input type="checkbox" name="ParseTuk"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Turkish</td><td><input type="checkbox" name="ParseTur"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Uighur</td><td><input type="checkbox" name="ParseUig"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Slavic">Ukrainian</td><td><input type="checkbox" name="ParseUkr"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Indo-Aryan|Hundustani">Urdu</td><td><input type="checkbox" name="ParseUrd"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Turkic">Uzbek</td><td><input type="checkbox" name="ParseUzb"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Venetian</td><td><input type="checkbox" name="ParseVec"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Uralic">Veps</td><td><input type="checkbox" name="ParseVep"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Austroasiatic">Vietnamese</td><td><input type="checkbox" name="ParseVie"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Constructed">Volapük</td><td><input type="checkbox" name="ParseVol"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Romance">Walloon</td><td><input type="checkbox" name="ParseWln"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Bantu">Xhosa</td><td><input type="checkbox" name="ParseXho"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Germanic">Yiddish</td><td><input type="checkbox" name="ParseYid"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Niger–Congo">Yoruba</td><td><input type="checkbox" name="ParseYor"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Chinese">Yue Chinese</td><td><input type="checkbox" name="ParseYue"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Standard Malay">Standard Malay</td><td><input type="checkbox" name="ParseZsm"/></td></tr>
                <tr><td onclick="changeItem(event,this)" data-alt="Bantu">Zulu</td><td><input type="checkbox" name="ParseZul"/></td></tr>
            </tbody>
        </table>

        <button id="eval" style="float: right">Eval</button>
        
        <td>&nbsp;&nbsp;
        <form class="search-box" style="position: absolute; top: 10px">
            <input class="search-box-input" type="search" name="search"
                   placeholder="Search Entity" aria-label="Search Entity"
                   autocapitalize="sentences" title="Search Entity" id="searchInput"
                   autocomplete="off"
                   oninput="showSearches(this)"
                   onkeypress="searchInputOnKeyPress(event)"
                   onkeydown="searchInputOnKeyDown(event)">
            <img class="search-box-button" src="search.svg">
            <table class="search-box-results" id="searchResults"></table>
            <div id="content"></div>
        </form></td>

        </tr>

        <tr><td><div id="editor" style="width: 800pt; max-width: 800pt"></div></td></tr>
        <tr>
            <td><div id='output' style="min-height: 300px"></div></td>
            <td style="vertical-align: top"><div id="options"></div></td>
        </tr>
        </table>

        <div id='msgs'></div>
        

        <script>
            const evalBtn = document.getElementById("eval");
            evalBtn.addEventListener("click", test);
            
            const editor = CodeMirror(document.getElementById('editor'),{lineNumbers: true, mode: "haskell", matchBrackets: true});
            editor.setSize(null,  300);
            editor.addKeyMap({"Ctrl-Space": wordnet_search});
            editor.addKeyMap({"Ctrl-S": test});

            const elemMsgs = document.getElementById("msgs");
            const elemOut = document.getElementById("output");
            const elemOpts = document.getElementById("options");

            function renderGroup(group) {
                const res_tbl = node("table",{"class": "dataset"},[]);
                const row = []
                for (const header of group.headers) {
                    row.push(th([text(header.label)]));
                }
                res_tbl.appendChild(tr(row))
                for (const record of group.dataset) {
                    const row = []
                    for (let i in record.fields) {
                        const value  = record.fields[i];
                        const header = group.headers[i];
                        if (header.type == "markup") {
                            const e = td([]);
                            e.innerHTML = value;
                            row.push(e);
                        } else if (header.type == "number") {
                            row.push(node("td",{style: "text-align: right"},[text(value)]));
                        } else if (header.type == "string") {
                            row.push(td([text(value)]));
                        } else if (header.type == "text") {
                            row.push(td(node("pre",{},[text(value)])));
                        }
                    }
                    const rec = tr(row);
                    rec.onclick = () => client.setInteractionPoint(group.headers, record);
                    res_tbl.appendChild(rec);
                }
                elemOut.appendChild(res_tbl);
            }

            const client = new WNClient();
            client.addEventListener("state", event => {
                const state = event.newState;
                switch (state.state) {
                    case "invalid":
                        elemMsgs.innerHTML = "";
                        elemOut.innerHTML = `<pre class="status">${state.error}</pre>`;
                        elemOpts.innerHTML = "";
                        break;
                    case "valid":
                        switch (state.groups.length) {
                            case 0:
                                elemOut.innerHTML = "<b>No results</b>";
                                elemOpts.innerHTML = "";
                                break;
                            case 1:
                                const group = state.groups[0];
                                if (group.dataset.length === 1) {
                                    client.setInteractionPoint(group.headers, group.dataset[0]);
                                    break;
                                }
                                // falls through
                            default:
                                elemOut.innerHTML = "";
                                elemOpts.innerHTML = "";
                                for (const group of state.groups) {
                                    renderGroup(group);
                                }
                                break;
                        }
                        break;
                    case "interactive":
                        elemOut.innerHTML = "";
                        elemOpts.innerHTML = "";
                        renderGroup({ headers: state.headers, dataset: [state.record] });
                        const optElems = [];
                        for (const opt of state.record.options) {
                            const optLbl = node("div", { "class": "option-header" }, [node("b", {}, [text(opt.label)])]);
                            optElems.push(optLbl);

                            const optBody = [];
                            for (let i = 0; i < opt.options.length; i++) {
                                const attrs = {"value": i};
                                if (i === opt.value) attrs["selected"] = "selected";
                                const valueElem = node("option", attrs, [text(opt.options[i])]);
                                optBody.push(valueElem)
                            }
                            const select = node("select", {}, optBody);
                            select.addEventListener("change", function() {
                                client.setOption(opt.choice, Number(select.value));
                            });
                            optElems.push(select);
                        }
                        elemOpts.appendChild(node("div", { "class": "option-container" }, optElems));
                        break;
                }
            });
            client.addEventListener("result", event => {
                elemMsgs.innerHTML = "";
                elemMsgs.appendChild(node("pre",{},[text(event.result.msg)]));
            });

            async function test() {
                const selection = getMultiSelection(element('from'));
                const content   = document.getElementById("content");
                client.setProgram(content.dataset.qid, selection.current, editor.getValue());
            }

            function wordnet_search(cm)
            {
                const selection = getMultiSelection(element('from'));
                var lemma = cm.getSelection();
                if (lemma == "") {
                    const find = cm.findWordAt(cm.getCursor())
                    cm.setSelection(find.anchor, find.head);
                    lemma = cm.getSelection();
                    if (lemma == "")
                        return
                }

                var search_popup = element("search_popup");
                var viewport = element("editor").getBoundingClientRect();
                search_popup.style.top     = viewport.top+"px";
                search_popup.style.left    = viewport.left+"px";
                search_popup.style.display = "block";

                function close_popup() {
                    search_popup.innerHtml = "";
                    search_popup.style.display = "none";
                    delete(window.onkeyup);
                    delete(window.onclick);
                }
                window.onkeyup = function (event) {
                    if (event.keyCode == 27) {
                        close_popup();
                    }
                }
                window.onclick = close_popup
                search_popup.onclick = function (event) {
                    event.stopPropagation();
                }

                gfwordnet.can_select=true;
                gfwordnet.onclick_select = function(row) {
                    var lex_id = row.getAttribute("data-lex-id");
                    cm.replaceSelection(lex_id);
                    cm.focus();
                    close_popup();
                }
                gfwordnet.search(selection, lemma, element("domains"), element("result"), null);
            }

            initMultiSelection(element("from"));
        </script>

        <div id="search_popup" class="search_popup">
        <table id="domains" class="selector">
            <thead></thead>
            <tbody></tbody>
        </table>
        <table id="result" class="result">
            <thead></thead>
            <tbody></tbody>
            <tfoot></tfoot>
        </table>
        </div>
    </body>
</html>
